<<<<<<< HEAD
const enterButton=document.getElementById("enterButton"),formElement=document.querySelector(".form-autoris form"),overlayElement=document.querySelector(".overlay");enterButton.addEventListener("click",(function(){formElement.style.display="block",overlayElement.style.display="block"})),overlayElement.addEventListener("click",(function(e){e.target===overlayElement&&(formElement.style.display="none",overlayElement.style.display="none")}));const mainField=document.getElementById("mainField"),createButton=document.getElementById("createButton"),exitButton=document.getElementById("exitButton"),helloWindow=document.getElementById("helloWindow"),token="c5dbf986-2bf0-4d36-80bd-13cbea71b9e8";formElement.addEventListener("submit",(function(e){e.preventDefault();const t=formElement.querySelector('input[name="login"]'),l=formElement.querySelector('input[name="password"]');"felangelena@gmail.com"===t.value&&"danIT"===l.value?(localStorage.setItem("token",token),enterButton.style.display="none",formElement.style.display="none",overlayElement.style.display="none",helloWindow.style.display="none",createButton.style.display="block",exitButton.style.display="block",mainField.style.display="flex"):alert("Ошибка: неправильний логін або пароль")})),exitButton.addEventListener("click",(function(){localStorage.removeItem("token"),enterButton.style.display="block",helloWindow.style.display="flex",formElement.style.display="none",createButton.style.display="none",exitButton.style.display="none",mainField.style.display="none"})),localStorage.getItem("token")&&(enterButton.style.display="none",formElement.style.display="none",overlayElement.style.display="none",helloWindow.style.display="none",createButton.style.display="block",exitButton.style.display="block",mainField.style.display="flex"),overlayElement.addEventListener("click",(function(e){e.target===overlayElement&&(formElement.style.display="none",overlayElement.style.display="none")}));
=======
const visitDentist={visitor:"Olena",priority:"High",goal:"Delete teeth",description:"Delete down wise teeth",doctor:"Dentist",lastVisit:"2017-01-26"},visitCardiologist={visitor:"Ivan",priority:"Low",goal:"Check heart rythm",description:"Fast hearth rythm",doctor:"Cardiologist",pressure:"120/90",bp:32,desease:"type I",age:32},visitTherapist={visitor:"Julia",priority:"Normal",goal:"Medical check",description:"Check pressure, hearth beat",doctor:"Therapist",age:26};function deleteCard(t){fetch(`https://ajax.test-danit.com/api/v2/cards/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${token}`}})}const enterButton=document.getElementById("enterButton"),formElement=document.querySelector(".form-autoris form"),overlayElement=document.querySelector(".overlay");enterButton.addEventListener("click",(function(){formElement.style.display="block",overlayElement.style.display="block"})),overlayElement.addEventListener("click",(function(t){t.target===overlayElement&&(formElement.style.display="none",overlayElement.style.display="none")}));const mainField=document.getElementById("mainField"),createButton=document.getElementById("createButton"),exitButton=document.getElementById("exitButton"),helloWindow=document.getElementById("helloWindow"),token="c5dbf986-2bf0-4d36-80bd-13cbea71b9e8";formElement.addEventListener("submit",(function(t){t.preventDefault();const e=formElement.querySelector('input[name="login"]'),s=formElement.querySelector('input[name="password"]');"felangelena@gmail.com"===e.value&&"danIT"===s.value?(localStorage.setItem("token",token),enterButton.style.display="none",formElement.style.display="none",overlayElement.style.display="none",helloWindow.style.display="none",createButton.style.display="block",exitButton.style.display="block",mainField.style.display="flex",getVisits()):alert("Ошибка: неправильний логін або пароль")})),exitButton.addEventListener("click",(function(){localStorage.removeItem("token"),enterButton.style.display="block",helloWindow.style.display="flex",formElement.style.display="none",createButton.style.display="none",exitButton.style.display="none",mainField.style.display="none"})),localStorage.getItem("token")&&(enterButton.style.display="none",formElement.style.display="none",overlayElement.style.display="none",helloWindow.style.display="none",createButton.style.display="block",exitButton.style.display="block",mainField.style.display="flex"),overlayElement.addEventListener("click",(function(t){t.target===overlayElement&&(formElement.style.display="none",overlayElement.style.display="none")}));class VisitCardDentist{constructor({id:t,visitor:e,doctor:s,priority:i,goal:n,description:o,lastVisit:l}){this.id=t,this.visitor=e,this.doctor=s,this.priority=i,this.goal=n,this.description=o,this.lastVisit=l}render(){const t=document.createElement("div");t.classList.add("card"),t.dataset.id=this.id,t.innerHTML=`\n        <div class="card-header">\n        <h5 class="card-title">Карта візиту</h5>\n        <div class="card-header-btns">\n            <button type="button" class="btn btn-primary btn--edit">Редагувати</button>\n            <button type="button" class="btn btn-primary btn--delete">Видалити</button>\n        </div>\n        </div>\n        <div class="card-body">\n            <h6 class="title">ПІБ:</h6>\n            <p class="desc">${this.visitor}</p>\n            <h6 class="title">Лікар:</h6>\n            <p class="desc">${this.doctor}</p>\n            <button type="button" class="btn btn-primary seeMore">Показати більше</button>\n            <div class="card-body-hide hide">\n                <h6 class="title">Терміновість:</h6>\n                <p class="desc">${this.priority}</p>\n                <h6 class="title">Мета візиту:</h6>\n                <p class="desc">${this.goal}</p>\n                <h6 class="title">Опис візиту:</h6>\n                <p class="desc">${this.description}</p>\n                <h6 class="title">Дата останнього візиту:</h6>\n                <p class="desc">${this.lastVisit}</p>\n            </div>\n        </div>\n        `,document.querySelector(".visits").append(t)}}class VisitCardCardiologist{constructor({id:t,visitor:e,doctor:s,priority:i,goal:n,description:o,pressure:l,bp:a,desease:d,age:r}){this.id=t,this.visitor=e,this.doctor=s,this.priority=i,this.goal=n,this.description=o,this.pressure=l,this.bp=a,this.desease=d,this.age=r}render(){const t=document.createElement("div");t.classList.add("card"),t.dataset.id=this.id,t.innerHTML=`\n        <div class="card-header">\n        <h5 class="card-title">Карта візиту</h5>\n        <div class="card-header-btns">\n            <button type="button" class="btn btn-primary btn--edit">Редагувати</button>\n            <button type="button" class="btn btn-primary btn--delete">Видалити</button>\n        </div>\n        </div>\n        <div class="card-body">\n            <h6 class="title">ПІБ:</h6>\n            <p class="desc">${this.visitor}</p>\n            <h6 class="title">Лікар:</h6>\n            <p class="desc">${this.doctor}</p>\n            <button type="button" class="btn btn-primary seeMore">Показати більше</button>\n            <div class="card-body-hide hide">\n                <h6 class="title">Терміновість:</h6>\n                <p class="desc">${this.priority}</p>\n                <h6 class="title">Мета візиту:</h6>\n                <p class="desc">${this.goal}</p>\n                <h6 class="title">Опис візиту:</h6>\n                <p class="desc">${this.description}</p>\n                <h6 class="title">Звичайний тиск:</h6>\n                <p class="desc">${this.pressure}</p>\n                <h6 class="title">Індекс маси тіла:</h6>\n                <p class="desc">${this.bp}</p>\n                <h6 class="title">Перенесені захворювання серцево-судинної системи:</h6>\n                <p class="desc">${this.desease}</p>\n                <h6 class="title">Вік:</h6>\n                <p class="desc">${this.age}</p>\n            </div>\n        </div>\n        `,document.querySelector(".visits").append(t)}}class VisitCardTherapist{constructor({id:t,visitor:e,doctor:s,priority:i,goal:n,description:o,age:l}){this.id=t,this.visitor=e,this.doctor=s,this.priority=i,this.goal=n,this.description=o,this.age=l}render(){const t=document.createElement("div");t.classList.add("card"),t.dataset.id=this.id,t.innerHTML=`\n        <div class="card-header">\n        <h5 class="card-title">Карта візиту</h5>\n        <div class="card-header-btns">\n            <button type="button" class="btn btn-primary btn--edit">Редагувати</button>\n            <button type="button" class="btn btn-primary btn--delete">Видалити</button>\n        </div>\n        </div>\n        <div class="card-body">\n            <h6 class="title">ПІБ:</h6>\n            <p class="desc">${this.visitor}</p>\n            <h6 class="title">Лікар:</h6>\n            <p class="desc">${this.doctor}</p>\n            <button type="button" class="btn btn-primary seeMore">Показати більше</button>\n            <div class="card-body-hide hide">\n                <h6 class="title">Терміновість:</h6>\n                <p class="desc">${this.priority}</p>\n                <h6 class="title">Мета візиту:</h6>\n                <p class="desc">${this.goal}</p>\n                <h6 class="title">Опис візиту:</h6>\n                <p class="desc">${this.description}</p>\n                <h6 class="title">Вік:</h6>\n                <p class="desc">${this.age}</p>\n            </div>\n        </div>\n        `,document.querySelector(".visits").append(t)}}const visits=document.querySelector(".visits");function getVisits(){visits.innerHTML="",fetch("https://ajax.test-danit.com/api/v2/cards",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${token}`}}).then((t=>t.json())).then((t=>{console.log(t),t.forEach((t=>{if("Cardiologist"==t.doctor){new VisitCardCardiologist(t).render()}else if("Dentist"==t.doctor){new VisitCardDentist(t).render()}else if("Therapist"==t.doctor){new VisitCardTherapist(t).render()}}))}))}visits.addEventListener("click",(t=>{const e=t.target;if(e.classList.contains("seeMore"))e.nextElementSibling.classList.toggle("hide"),"Показати більше"==e.textContent?e.textContent="Приховати":e.textContent="Показати більше";else if(e.classList.contains("btn--delete")){const t=e.closest("div.card").getAttribute("data-id");console.log(t),deleteCard(t),e.closest("div.card").remove()}}));
>>>>>>> 463c37db6ed5833bfffc68e97062a113dbd2eb59
